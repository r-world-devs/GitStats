<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get files content • GitStats</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get files content">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GitStats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/set_hosts.html">Setting hosts</a></li>
    <li><a class="dropdown-item" href="../articles/get_data.html">Get data</a></li>
    <li><a class="dropdown-item" href="../articles/get_repos_with_code.html">Getting repositories with specific code or files</a></li>
    <li><a class="dropdown-item" href="../articles/get_files.html">Get files content</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-world-devs/GitStats/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get files content</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-world-devs/GitStats/blob/v2.1.0/vignettes/get_files.Rmd" class="external-link"><code>vignettes/get_files.Rmd</code></a></small>
      <div class="d-none name"><code>get_files.Rmd</code></div>
    </div>

    
    
<p>Set connections to hosts.</p>
<blockquote>
<p>Example workflow makes use of public GitHub and GitLab, but it is
plausible, that you will use your internal git platforms, where you need
to define <code>host</code> parameter. See
<code><a href="../articles/set_hosts.html">vignette("set_hosts")</a></code> article on that.</p>
</blockquote>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-world-devs.github.io/GitStats/">GitStats</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">git_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_gitstats.html">create_gitstats</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_github_host.html">set_github_host</a></span><span class="op">(</span></span>
<span>    orgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r-world-devs"</span>, <span class="st">"openpharma"</span><span class="op">)</span>,</span>
<span>    token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GITHUB_PAT"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_gitlab_host.html">set_gitlab_host</a></span><span class="op">(</span></span>
<span>    orgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mbtests"</span><span class="op">)</span>,</span>
<span>    token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GITLAB_PAT_PUBLIC"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">Searching scope set to [org].</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">Checking organizations...</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Set connection to GitHub.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">Searching scope set to [org].</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">Checking organizations...</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Set connection to GitLab.</span></span></code></pre></div>
<p>With <code>GitStats</code> you can get the content of all text files
in repo that are of your interest. First you need to get the files
structure. You can pull specific types of files, by setting
<code>pattern</code> with regular expression and <code>depth</code> with
integer, which defines level of directories to look for the files.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">files_structure</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_files_structure.html">get_files_structure</a></span><span class="op">(</span></span>
<span>  gitstats_object <span class="op">=</span> <span class="va">git_stats</span>,</span>
<span>  pattern         <span class="op">=</span> <span class="st">"\\.md"</span>,</span>
<span>  depth           <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  progress        <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> [Host:GitHub][Engine:<span style="color: #BBBB00;">GraphQl</span>][Scope:r-world-devs] Pulling files structure...[files matching pattern: '\.md']...</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> [Host:GitHub][Engine:<span style="color: #BBBB00;">GraphQl</span>][Scope:openpharma] Pulling files structure...[files matching pattern: '\.md']...</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> <span style="color: #BBBB00;">For GitHub no files structure found.</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> [Host:GitLab][Engine:<span style="color: #BBBB00;">GraphQl</span>][Scope:mbtests] Pulling files structure...[files matching pattern: '\.md']...</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">files_structure</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 1</span></span>
<span><span class="co">#&gt;  $ gitlab.com:List of 1</span></span>
<span><span class="co">#&gt;   ..$ mbtests:List of 10</span></span>
<span><span class="co">#&gt;   .. ..$ graphql_tests     : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ regextips         : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ gitstatstesting4  : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ gitstatstesting3  : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ testrpackage      : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ rm-tests-3        : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ rm-tests-2        : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ rm-tests          : chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ gitstats-testing-2: chr "README.md"</span></span>
<span><span class="co">#&gt;   .. ..$ gitstatstesting   : chr "README.md"</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr [1:2] "files_structure" "list"</span></span>
<span><span class="co">#&gt;  - attr(*, "pattern")= chr "\\.md"</span></span>
<span><span class="co">#&gt;  - attr(*, "depth")= int 1</span></span></code></pre></div>
<p>Once you pull the files structure, <code>GitStats</code> will store
it. If you run then <code><a href="../reference/get_files_content.html">get_files_content()</a></code> function, by
default it will make use of this structure (unless you define
<code>file_path</code>, which will override saved files structure).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">files_content</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_files_content.html">get_files_content</a></span><span class="op">(</span></span>
<span>  gitstats_object <span class="op">=</span> <span class="va">git_stats</span>,</span>
<span>  progress        <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> <span style="color: #BBBB00;">I will skip pulling data for GitHub: files structure is empty.</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #00BB00;">I will make use of files structure stored in GitStats.</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> [Host:GitLab][Engine:<span style="color: #BBBB00;">GraphQl</span>][Scope:mbtests] Pulling files from files structure...</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">files_content</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 10</span></span>
<span><span class="co">#&gt; Columns: 8</span></span>
<span><span class="co">#&gt; $ repo_name    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "graphql_tests", "RegexTips", "GitStats Testing 4", "GitS…</span></span>
<span><span class="co">#&gt; $ repo_id      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "gid://gitlab/Project/61399846", "gid://gitlab/Project/47…</span></span>
<span><span class="co">#&gt; $ organization <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "mbtests", "mbtests", "mbtests", "mbtests", "mbtests", "m…</span></span>
<span><span class="co">#&gt; $ file_path    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "README.md", "README.md", "README.md", "README.md", "READ…</span></span>
<span><span class="co">#&gt; $ file_content <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "# graphql_tests\n\nThis project is for testing GraphQL c…</span></span>
<span><span class="co">#&gt; $ file_size    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 67, 302, 6214, 208, 6205, 164, 6199, 6193, 123, 122</span></span>
<span><span class="co">#&gt; $ repo_url     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://gitlab.com/mbtests/graphql_tests", "https://gitl…</span></span>
<span><span class="co">#&gt; $ api_url      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://gitlab.com/api/v4/projects/61399846", "https://g…</span></span></code></pre></div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Maciej Banas, Kamil Koziej, Karolina Marcinkowska, Matt Secrest.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
